var primitives=function(e){"use strict";function t(e){const t=[[0,1],[1,2],[2,0]];let n=[];let s={};for(let r=0;r<e.length;r+=3){for(let c=0;c<3;++c){let i=e[r+t[c][0]];let a=e[r+t[c][1]];let u=i>a?a<<16|i:i<<16|a;if(s[u]===undefined){s[u]=0;n.push(i,a)}}}return n}function n(e,t,n=1){let s=new Array(2*e.length);for(let r=0;r<e.length/3;++r){let c=3*r;let i=6*r;s[i+0]=e[c+0];s[i+1]=e[c+1];s[i+2]=e[c+2];s[i+3]=e[c+0]+t[c+0]*n;s[i+4]=e[c+1]+t[c+1]*n;s[i+5]=e[c+2]+t[c+2]*n}return s}let s=e.vec3.create();let r=e.vec3.create();let c=e.vec3.create();let i=e.vec3.create();let a=e.vec3.create();let u=e.vec3.create();let h=e.vec3.create();let o=e.vec3.create();let v=e.vec3.create();let f=e.vec3.create();let p=e.vec3.create();let d=e.vec3.create();var g=function(t,n,g,l={}){let m=l.widthSegments!==undefined?l.widthSegments:1;let M=l.heightSegments!==undefined?l.heightSegments:1;let S=l.lengthSegments!==undefined?l.lengthSegments:1;let w=t*.5;let y=n*.5;let I=g*.5;let P=[e.vec3.set(a,-w,-y,I),e.vec3.set(u,w,-y,I),e.vec3.set(h,w,y,I),e.vec3.set(o,-w,y,I),e.vec3.set(v,w,-y,-I),e.vec3.set(f,-w,-y,-I),e.vec3.set(p,-w,y,-I),e.vec3.set(d,w,y,-I)];let A=[[0,1,3],[4,5,7],[3,2,6],[1,0,4],[1,4,2],[5,0,6]];let b=[[0,0,1],[0,0,-1],[0,1,0],[0,-1,0],[1,0,0],[-1,0,0]];let x=[];let z=[];let q=[];let j=[];function k(t,n,a){let u,h;let o,v;let f=x.length/3;let p=A[t];let d=b[t];for(v=0;v<=a;v++){for(o=0;o<=n;o++){u=o/n;h=v/a;e.vec3.lerp(s,P[p[0]],P[p[1]],u);e.vec3.lerp(r,P[p[0]],P[p[2]],h);e.vec3.sub(c,r,P[p[0]]);e.vec3.add(i,s,c);x.push(i.x,i.y,i.z);z.push(d[0],d[1],d[2]);q.push(u,h);if(o<n&&v<a){let e=n+1;let t=o+v*e;let s=o+(v+1)*e;let r=o+1+(v+1)*e;let c=o+1+v*e;j.push(f+t,f+c,f+s);j.push(f+c,f+r,f+s)}}}}k(0,m,M);k(4,S,M);k(1,m,M);k(5,S,M);k(3,m,S);k(2,m,S);return{positions:x,normals:z,uvs:q,indices:j}};let l=e.vec3.create();let m=e.vec3.create();var M=function(t=.5,n=.5,s=1,r={}){let c=s*.5;let i=r.radialSegments||8;let a=r.heightSegments||1;let u=r.capped!==undefined?r.capped:true;let h=r.arc||2*Math.PI;let o=0;if(!u){if(t>0){o++}if(n>0){o++}}let v=(i+1)*(a+1);if(u){v+=(i+1)*o+i*o}let f=i*a*2*3;if(u){f+=i*o*3}let p=new Array(f);let d=new Array(v*3);let g=new Array(v*3);let M=new Array(v*2);let S=0;let w=0;y();if(u){if(n>0){I(false)}if(t>0){I(true)}}return{positions:d,normals:g,uvs:M,indices:p};function y(){let r=[];let u=(t-n)/s;for(let o=0;o<=a;o++){let v=[];let f=o/a;let p=f*(t-n)+n;for(let t=0;t<=i;++t){let n=t/i;let r=n*h;let a=Math.sin(r);let o=Math.cos(r);d[3*S]=p*a;d[3*S+1]=f*s-c;d[3*S+2]=p*o;e.vec3.normalize(l,e.vec3.set(m,a,-u,o));g[3*S]=l.x;g[3*S+1]=l.y;g[3*S+2]=l.z;M[2*S]=n;M[2*S+1]=f;v.push(S);++S}r.push(v)}for(let e=0;e<a;++e){for(let t=0;t<i;++t){let n=r[e][t];let s=r[e+1][t];let c=r[e+1][t+1];let i=r[e][t+1];p[w]=n;++w;p[w]=i;++w;p[w]=s;++w;p[w]=i;++w;p[w]=c;++w;p[w]=s;++w}}}function I(e){let s,r;let a=e?t:n;let u=e?1:-1;s=S;for(let e=1;e<=i;++e){d[3*S]=0;d[3*S+1]=c*u;d[3*S+2]=0;g[3*S]=0;g[3*S+1]=u;g[3*S+2]=0;M[2*S]=.5;M[2*S+1]=.5;++S}r=S;for(let e=0;e<=i;++e){let t=e/i;let n=t*h;let s=Math.cos(n);let r=Math.sin(n);d[3*S]=a*r;d[3*S+1]=c*u;d[3*S+2]=a*s;g[3*S]=0;g[3*S+1]=u;g[3*S+2]=0;M[2*S]=.5-s*.5;M[2*S+1]=r*.5*u+.5;++S}for(let t=0;t<i;++t){let n=s+t;let c=r+t;if(e){p[w]=c+1;++w;p[w]=n;++w;p[w]=c;++w}else{p[w]=n;++w;p[w]=c+1;++w;p[w]=c;++w}}}};var S=function(e=.5,t=1,n={}){return M(0,e,t,n)};let w=e.vec3.create();let y=e.vec3.create();let I=e.vec3.create();let P=e.vec3.create();let A=e.vec3.create();let b=e.vec3.create();let x=e.vec3.create();var z=function(t,n,s={}){let r=s.widthSegments!==undefined?s.widthSegments:5;let c=s.lengthSegments!==undefined?s.lengthSegments:5;let i=t*.5;let a=n*.5;let u=[];let h=[];let o=[];let v=[];e.vec3.set(A,-i,0,a);e.vec3.set(b,i,0,a);e.vec3.set(x,-i,0,-a);for(let t=0;t<=c;t++){for(let n=0;n<=r;n++){let s=n/r;let i=t/c;e.vec3.lerp(w,A,b,s);e.vec3.lerp(y,A,x,i);e.vec3.sub(I,y,A);e.vec3.add(P,w,I);u.push(P.x,P.y,P.z);h.push(0,1,0);o.push(s,i);if(n<r&&t<c){let e=r+1;let s=n+t*e;let c=n+(t+1)*e;let i=n+1+(t+1)*e;let a=n+1+t*e;v.push(s,a,c);v.push(a,i,c)}}}return{positions:u,normals:h,uvs:o,indices:v}};let q=[-.5,-.5,0,-.5,.5,0,.5,.5,0,.5,-.5,0];let j=[0,0,1,0,0,1,0,0,1,0,0,1];let k=[0,0,0,1,1,1,1,0];let B=[0,3,1,3,2,1];var C=function(){return{positions:q,indices:B,normals:j,uvs:k}};var D=function(e=1,t={}){let n=t.segments!==undefined?t.segments:16;let s=[];let r=[];let c=[];let i=[];for(let t=0;t<=n;++t){let a=t*Math.PI/n;let u=Math.sin(a);let h=-Math.cos(a);for(let a=0;a<=n;++a){let o=a*2*Math.PI/n-Math.PI/2;let v=Math.sin(o);let f=Math.cos(o);let p=v*u;let d=h;let g=f*u;let l=a/n;let m=t/n;s.push(p*e,d*e,g*e);r.push(p,d,g);c.push(l,m);if(t<n&&a<n){let e=n+1;let s=e*t+a;let r=e*(t+1)+a;let c=e*(t+1)+a+1;let u=e*t+a+1;i.push(s,u,r);i.push(u,c,r)}}}return{positions:s,indices:i,normals:r,uvs:c}};var E=function(e=.5,t=.2,n={}){let s=n.radialSegments||30;let r=n.tubularSegments||20;let c=n.arc||2*Math.PI;let i=[];let a=[];let u=[];let h=[];for(let n=0;n<=s;n++){for(let o=0;o<=r;o++){let v=o/r;let f=n/s;let p=v*c;let d=f*Math.PI*2;let g=(e+t*Math.cos(d))*Math.sin(p);let l=t*Math.sin(d);let m=(e+t*Math.cos(d))*Math.cos(p);let M=Math.sin(p)*Math.cos(d);let S=Math.sin(d);let w=Math.cos(p)*Math.cos(d);i.push(g,l,m);a.push(M,S,w);u.push(v,f);if(o<r&&n<s){let e=r+1;let t=e*n+o;let s=e*(n+1)+o;let c=e*(n+1)+o+1;let i=e*n+o+1;h.push(t,i,s);h.push(i,c,s)}}}return{positions:i,normals:a,uvs:u,indices:h}};var F={wireframe:t,normals:n,box:g,cone:S,cylinder:M,plane:z,quad:C,sphere:D,torus:E};return F}(window.vmath);
//# sourceMappingURL=primitives.min.js.map